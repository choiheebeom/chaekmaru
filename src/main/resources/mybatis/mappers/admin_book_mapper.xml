<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.maru.chaekmaru.admin.book.IAdminBookDaoForMybatis">

	<select id="isBook"
			parameterType="String"
			resultType="Boolean">
			
			SELECT 
				COUNT(*) 
			FROM 
				TBL_BOOK 
			WHERE 
				B_ISBN = #{b_isbn}
				 		
	</select>
	
	<insert id="insertBook"
			parameterType="com.maru.chaekmaru.book.BookDto">
			
		
			INSERT INTO 
				TBL_BOOK(B_NO, B_THUMBNAIL, B_NAME, B_AUTHOR, B_INTRODUCE, B_PUBLISHER, B_PUBLISH_DATE, B_KDC, B_ISBN, B_PRICE, B_COUNT, B_REG_DATE, B_MOD_DATE)   
					VALUES(BOOK_SEQ.NEXTVAL, #{b_thumbnail}, #{b_name}, #{b_author}, #{b_introduce}, #{b_publisher}, #{b_publish_date}, #{b_kdc}, #{b_isbn}, #{b_price},
						   #{b_count}, SYSTIMESTAMP, SYSTIMESTAMP)			
		
				 		
	</insert>

	<select id="selectAllBooks"			
			resultType="com.maru.chaekmaru.book.BookDto">
			
			SELECT * FROM TBL_BOOK 
			ORDER BY B_NO DESC			
				 		
	</select>
	
	
</mapper>