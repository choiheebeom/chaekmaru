<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">

<head>
    <title>책마루 :: 내가 쓴 리뷰</title>
</head>

<div id="my_review" class="content-wrap" layout:fragment="content">
    <h2 class="title">내가 쓴 리뷰</h2>

    <div class="content">
        <div class="review-wrap">
            <th:block th:if="${session.loginedMemberDto != null}">
                <th:block th:if="${reviews} != null">
                    <div th:replace="~{/book/review.html::review-list}"></div>
                </th:block>

                <th:block th:if="${reviews} == null">
                    <div>작성한 리뷰가 없습니다.</div>
                </th:block>
            </th:block>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {

            document.querySelectorAll(".modify-review").forEach(el => {
                el.addEventListener("click", function (e) {

                    let modifyWrap = this.parentElement.nextSibling.nextSibling;

                    if (modifyWrap.style.display == "none") {
                        modifyWrap.style.display = "flex";
                    } else {
                        modifyWrap.style.display = "none";
                    }
                })
            });

        })
    </script>

</div>

</html>