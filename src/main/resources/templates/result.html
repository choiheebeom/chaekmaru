<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    lang="ko"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/layout}"
>
    <head>
        <title>책마루 :: 결과</title>
    </head>

    <!-- final public static int DATABASE_COMMUNICATION_TROUBLE = 2;
final public static int CREATE_ACCOUNT_SUCCESS = 100;
final public static int MEMBER_MODIFY_SUCCESS = 101; 	
final public static int LOGOUT_SUCCESS = 102; 
final public static int MEMBER_DELETE_SUCCESS = 103;
final public static int FIND_ID_SUCCESS = 104;
final public static int FIND_PW_SUCCESS = 105;
final public static int PW_MODIFY_SUCCESS = 106;

final public static int CREATE_ACCOUNT_FAIL = 110;
final public static int ID_ALREADY_EXIST = 111;
final public static int MEMBER_MODIFY_FAIL = 112;
final public static int MEMBER_NOT_FOUND = 113;
final public static int MEMBER_DELETE_FAIL = 114;
final public static int FIND_ID_FAIL = 115;
final public static int FIND_PW_FAIL = 116;
final public static int PW_MODIFY_FAIL = 117; -->

    <div id="result" class="content-wrap" layout:fragment="content">
        <script th:inline="javascript">
            /*<![CDATA[*/
            let result = [[${ result }]];
            let text = "";
            let href = "";

            switch (result) {
                case -1:
                    text = "오류가 발생했습니다.\n다시 시도해주세요."
                    window.history.back();
                    break;
                case 2:
                    text = "데이터베이스 연결 오류\n다시 시도해주세요."
                    window.history.back();
                    break;

                // MemberController
                case 100:
                    text = "회원가입에 성공했습니다.\n환영합니다.";
                    href = [[@{/member/login_form}]];
                    break;
                
                case 101:
                    text = "정보 수정에 성공했습니다.";
                    href = [[@{/member/modify_form}]];
                    break;

                case 102:
                    text = "로그아웃에 성공했습니다.";
                    href = [[@{/}]];
                    break;

                case 103:
                    text = "회원 탈퇴에 성공했습니다.\n안녕히 가세요.";
                    href = [[@{/}]];
                    break;

                case 104:
                    text = "아이디를 메일로 발송했습니다.\n메일을 확인해주세요.";
                    href = [[@{/member/login_form}]];
                    break;

                case 105:
                    text = "비밀번호 재설정 링크를 메일로 발송했습니다.\n메일을 확인해주세요.";
                    href = [[@{/member/login_form}]];
                    break;

                case 106:
                    text = "비밀번호 재설정을 완료했습니다.";
                    href = [[@{/member/login_form}]];
                    break;

                case 107:
                    text = "로그인에 성공했습니다.\n어서오세요.";
                    href = [[@{/}]];
                    break;

                case 110:
                    text = "회원가입에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 111:
                    text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 112:
                    text = "정보 수정에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                    
                case 113:
                    text = "사용자를 찾을 수 없습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 114:
                    text = "회원 탈퇴에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                case 115:
                    text = "아이디 찾기에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                case 116:
                    text = "비밀번호 찾기에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                case 117:
                    text = "비밀번호 변경에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                    
                // case 111:
                //     text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                //     window.history.back();
                //     break;
                

                default:
                    text = "메인으로 이동합니다."
                    href = [[@{/}]];
                    break;
            }

            if (text != "") {
                alert(text);
            }

            if (href != "") {
                location.href = href;
            }
            /*]]>*/
        </script>
    </div>
</html>
