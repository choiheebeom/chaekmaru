<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/admin_layout}">

<head>
    <title>책마루 :: 관리자 BOOK LIST</title>
 	    
    <!-- { 이 페이지에서만 쓰는 css, script 등 } -->
    <!-- <link rel="stylesheet" th:href="@{css/reset.css}"> -->
     <th:block th:replace="~{include/js/admin_js.html::admin_js}"></th:block>
</head>

<div class="content-wrap" layout:fragment="content">
    <h2 class="title">BOOK LIST</h2>
        
    <div class="content">
    
    
    	<div class="search">
                <form th:action="@{/admin/book/book_list_form}" name="search_book_form" method="get">
                	
                 	<select name="sort" id="list_sort" class="select" >	                   
	                    <option value="" >검색조건</option>
	                    <option value="isbn">ISBN</option>
	                     <option value="name">도서명</option>
	                    <option value="author">저자명</option>	                 
	                </select>
                    <input type="search" name="search" th:value="${search}" th:data-link="@{/admin/book/list(search=${search})}" class="input" placeholder="검색어를 입력하세요.">
                    <button type="submit" class="btn main">검색</button>
                </form>
        </div>
    
    	    
	    <div>
	     	<table>
	    		<thead>
		   			<tr>
	    		
	    				<th>도서 NO</th>
	    				<th>썸네일</th>
	    				<th>도서 이름</th>
	    				<th>도서 저자</th>
	    				<th>도서 소개</th>    				
	    				<th>출판사명</th>
	    				<th>출판일</th>
	    				<th>분류기호</th>
	    				<th>ISBN</th>
	    				<th>도서 가격</th>    						
	    				<th>재고 수량</th>
	    				<th>등록일</th>
	    				<th>수정일</th>    			
	    				<th>도서수정</th>
	    				<th>도서삭제</th>
	    				    					   			
	    			</tr>   	
	    	
    			</thead>
    		
    			<tbody>
    				<tr th:each="list : ${items}" >

	    				<td th:text="${list.b_no}"></td>
	    				<td th:text="${#strings.substring(list.b_thumbnail, 34)}"></td>
	    				<td th:text="${list.b_name}"></td>
	    				<td th:text="${list.b_author}"></td>
	    				<td th:text="${#strings.substring(list.b_introduce, 0, 20)}"></td>
	    				<td th:text="${list.b_publisher}"></td>
	    				<td th:text="${list.b_publish_date}"></td>
	    				<td th:text="${list.b_kdc}"></td>
	    				<td th:text="${list.b_isbn}"></td>
	    				<td th:text="${list.b_price}"></td>
	    				<td th:text="${list.b_count}"></td>
	    				<td th:text="${#strings.substring(list.b_reg_date, 0, 19)}"></td>
	    				<td th:text="${list.b_mod_date}"></td>    				
	    				   				 
	    				<td th:if="${session.loginedAdminMemberDto.a_grade != 0}">
	    				<a th:href="@{/admin/book/modify_book_form(b_no=${list.b_no})}">도서수정</a></td>
	    				<td th:if="${session.loginedAdminMemberDto.a_grade == 2}">
	    				<a href="#none" th:onclick="deleteBookConfirm([[${list.b_no}]])">도서삭제</a></td>    				    			
	    			  
    				</tr>
    		
    			</tbody>    	
    	
    		</table>
       </div>
       <div class="paging">
                <div class="paging-wrap">
                    <th:block th:each="paging : ${listPageDtos}">
                        <a th:href="@{/admin/book/book_list_form(search=${search}, sort=${sort}, page=${paging.pageNum})}" th:class="${paging.className}">[(${paging.pageText})]</a>
                    </th:block>
                </div>

                <div class="page-number">[[${nowPage}]] / [[${allPage}]]</div>
            </div>
    </div>
</div>

</html>