<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">

<head>
    <title>책마루 :: 홈</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
</head>

<div id="index" class="content-wrap" layout:fragment="content">
    <div class="content">
        <div class="banner">
            <h2 class="title">메인 배너</h2>

            <div class="item-wrap">
                <div class="swiper mySwiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide"><img th:src="@{/img/banner/banner1.png}"></div>
                        <div class="swiper-slide"><img th:src="@{/img/banner/banner2.png}"></div>
                        <div class="swiper-slide"><img th:src="@{/img/banner/banner3.png}"></div>
                        <div class="swiper-slide"><img th:src="@{/img/banner/banner1.png}"></div>
                        <div class="swiper-slide"><img th:src="@{/img/banner/banner2.png}"></div>
                        <div class="swiper-slide"><img th:src="@{/img/banner/banner3.png}"></div>
                    </div>
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-pagination"></div>
            </div>
            <script>
                var swiper = new Swiper(".mySwiper", {
                    navigation: {
                        nextEl: ".swiper-button-next",
                        prevEl: ".swiper-button-prev",
                    },
                    pagination: {
                        el: ".swiper-pagination",
                        dynamicBullets: true,
                    },
                });
            </script>

            <style>
                .item-wrap {
                    position: relative;
                }


                .swiper {
                    width: 100%;
                    height: 100%;
                }

                .swiper-slide {
                    text-align: center;
                    font-size: 18px;
                    background: #fff;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                .swiper-pagination-bullet {
                    border-radius: 0;
                }

                .swiper-pagination-bullet-active-main {
                    width: 20px;
                    height: 20px;
                    background-color: var(--highlight-color);
                }

                .swiper-pagination-bullet-active-prev,
                .swiper-pagination-bullet-active-next {
                    width: 15px;
                    height: 15px;
                }

                .swiper-pagination-bullet-active-prev-prev,
                .swiper-pagination-bullet-active-next-next {
                    width: 10px;
                    height: 10px;
                }

                .swiper-pagination .swiper-pagination-bullets {
                    width: 125px;
                }

                .swiper-button-next,
                .swiper-button-prev {
                    color: var(--highlight-color);
                }

                .swiper-slide img {
                    display: block;
                    width: 100%;
                    height: 500px;
                    object-fit: contain;
                }
            </style>

            <div class="recommend">
                <h2 class="title">오늘의 발견</h2>

                <div class="item-wrap list">
                    <div th:each="item: ${recommend}" class="item">
                        <a th:href="@{/book/view/{b_no}(b_no=${item.b_no})}">
                            <img th:src="${item.b_thumbnail}" th:alt="${item.b_name}" class="thum">

                            <div class="info">
                                <div class="name ellipsis">[[${item.b_name}]]</div>
                                <div class="author ellipsis">[[${item.b_author}]]</div>
                                <div class="introduce">[[${item.b_introduce}]]</div>
                                <div class="publisher ellipsis">[[${item.b_publisher}]] / [[${item.b_publish_date}]]</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class="best">
                <h2 class="title">베스트셀러</h2>

                <div class="item-wrap gallery">
                    <div th:each="item: ${best}" class="item">
                        <a th:href="@{/book/view/{b_no}(b_no=${item.b_no})}">
                            <img th:src="${item.b_thumbnail}" th:alt="${item.b_name}" class="thum">
                            <div>
                                <div class="name ellipsis">[[${item.b_name}]]</div>
                                <div class="star ellipsis">[[${item.r_avg}]]([[${item.r_count}]])</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class="new">
                <h2 class="title">새로운 책</h2>

                <div class="item-wrap gallery">
                    <div th:each="item: ${news}" class="item">
                        <a th:href="@{/book/view/{b_no}(b_no=${item.b_no})}">
                            <img th:src="${item.b_thumbnail}" th:alt="${item.b_name}" class="thum">
                            <div>
                                <div class="name ellipsis">[[${item.b_name}]]</div>
                                <div class="publisher ellipsis">[[${item.b_reg_date}]]</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

</html>